<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0, user-scale=no">
    <title>CheckTreeBox</title>
    <script src="../dist/absol-acomp.js?<?php  echo stat('../dist/absol-acomp.js')['mtime'];?>"></script>
    <link rel="stylesheet" href="https://absol.cf/hightlight/styles/default.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://absol.cf/hightlight/highlight.pack.js"></script>
</head>
<body>
<style>
    .break-page {
        margin: 20px;
        display: block;
        height: 3px;
        box-sizing: border-box;
        border-top: solid 1px #65676d;
        border-bottom: solid 1px #65676d;
    }

    body > a {
        display: block;
        padding: 5px;
    }
</style>
<script>
    function render(o) {
        return absol._(o).addTo(document.body);
    }

</script>

<script class="viewable">
    (function () {
        render('<h2>Basic (auto: desktop/mobile)</h2>');
        var menu = render({
            tag: 'multichecktreemenu',
            props: {
                values: [-100037, -100034, -100000],
                enableSearch: true
            },
            on: {
                change: function () {
                    absol.require('snackbar').show(JSON.stringify(this.values))
                }
            }
        });
        absol.remoteNodeRequireAsync('./sampledata/com_tree.js').then((items) => {
            menu.items = items;
        });

        render({
            tag: 'a',
            props: { href: './sampledata/com_tree.js', target: '__blank' },
            child: { text: 'view items' }
        });
        render('.break-page');
    })();
</script>

<script class="viewable">
    (function () {
        render('<h2>leafOnly = true</h2>');
        var menu = render({
            tag: 'multichecktreemenu',
            props: {
                values: ['duthien1', -100010],
                leafOnly: true
            },
            on: {
                change: function () {
                    absol.require('snackbar').show(JSON.stringify(this.values))
                }
            }
        });
        absol.remoteNodeRequireAsync('./sampledata/com_tree.js').then((items) => {
            items.forEach(function visit(item) {
                if (item.icon.class.indexOf("mdi-account") >= 0) {
                    item.isLeaf = true;
                }
                if (item.items) item.items.forEach(visit);
                if (item.value === 29) item.noSelect = true;
            });
            menu.items = items;

            items_url.href =  URL.createObjectURL(new Blob(['var items = ' + absol.generateJSVariable(items)],  { type: 'text/plain;charset=utf-8;' }))
        });

        var items_url = render({
            tag: 'a',
            props: {  target: '__blank' },
            child: { text: 'view items' }
        });
        render('.break-page');

    })();
</script>

<script class="viewable">
    (function () {
        (function () {
            render('<h2>noSelect</h2>');
            var menu = render({
                tag: 'multichecktreemenu',
                props: {
                    values: [-100037, -100034, -100000],
                    enableSearch: true
                },
                on: {
                    change: function () {
                        absol.require('snackbar').show(JSON.stringify(this.values))
                    }
                }
            });
            absol.remoteNodeRequireAsync('./sampledata/com_tree_no_select.js').then((items) => {
                menu.items = items;
            });

            render({
                tag: 'a',
                props: { href: './sampledata/com_tree_no_select.js', target: '__blank' },
                child: { text: 'view items' }
            });
            render('.break-page');
        })();
    })();
</script>


<script class="viewable">
    (function () {
        render('<h2>leafOnly = true, noSelect</h2>');
        var menu = render({
            tag: 'multichecktreemenu',
            props: {
                values: ['duthien1', -100010],
                leafOnly: true
            },
            on: {
                change: function () {
                    absol.require('snackbar').show(JSON.stringify(this.values))
                }
            }
        });
        absol.remoteNodeRequireAsync('./sampledata/com_tree_no_select.js').then((items) => {
            items.forEach(function visit(item) {
                if (item.icon.class.indexOf("mdi-account") >= 0) {
                    item.isLeaf = true;
                }
                if (item.items) item.items.forEach(visit);
                if (item.value === 29) item.noSelect = true;
            });
            menu.items = items;

            items_url.href =  URL.createObjectURL(new Blob(['var items = ' + absol.generateJSVariable(items)],  { type: 'text/plain;charset=utf-8;' }))
        });

        var items_url = render({
            tag: 'a',
            props: {  target: '__blank' },
            child: { text: 'view items' }
        });
        render('.break-page');

    })();
</script>
<script src="https://absol.cf/absol/demo/autohightlighting.js"></script>

</body>
</html>