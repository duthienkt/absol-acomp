<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <title>Location Input</title>

    <script src="../dist/absol-acomp.js?<?php  echo stat('../dist/absol-acomp.js')['mtime'];?>"></script>

</head>
<body>
<script>
    function render(o) {
        return absol._(o).addTo(document.body);
    }

    //
    // var map;
    // var service;
    // var infowindow;
    // function createMarker(place) {
    //     if (!place.geometry || !place.geometry.location) return;
    //
    //     const marker = new google.maps.Marker({
    //         map,
    //         position: place.geometry.location,
    //     });
    //
    //     google.maps.event.addListener(marker, "click", () => {
    //         infowindow.setContent(place.name || "");
    //         infowindow.open(map);
    //     });
    // }

    function initMap() {
        render('<h2>Location Input</h2>');
        render({
            tag: 'locationinput',
            props: {
                value: { latitude: 10.799956, longitude: 106.710672 },//default type //or
                //value:'10.799956,106.710672',//or
                //value:[ 10.799956, 106.710672],//or
                //value:new google.map.LatLng(latitude: 10.799956, longitude:106.710672 )

            },
            on: {
                change: function (event) {
                    viewer.value = this.value;
                    absol.require('snackbar').show(JSON.stringify(this.value));
                }
            }
        });

        render('<h2>Location View</h2>');

        var viewer = render({
            tag: 'locationview',
            style: {
                height: '300px',
                margin: '50px'
            },
            props: {
                value: { latitude: 10.799956, longitude: 106.710672 },
                zoom: 16
            }
        });

        render('<h3>disabled = true</h3>');
        render({
            tag: 'locationinput',
            props: {
                value: { latitude: 10.799956, longitude: 106.710672 },//default type //or
                disabled: true
            }
        });

        render('<h3>readOnly = true</h3>');

        render({
            tag: 'locationinput',
            props: {
                value: { latitude: 10.799956, longitude: 106.710672 },//default type //or
                readOnly: true
            }
        });
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDa-kTQGK37BDMeN4knEHbHayDrbkee6uU&libraries=places&callback=initMap">
</script>
</body>
</html>