<!DOCTYPE html>
<html>

<head>
    <title>SelectMenu</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://volcanion.cf/hightlight/styles/default.css">
    <script src="https://volcanion.cf/hightlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../dist/absol-acomp.js?"></script>
    <style>

    </style>
</head>

<body>

    <h1>Select List</h1>
    <script class="viewable">
        absol._({
            tag: 'selectlist',
            style: {
                display: 'inline-block',
                border: 'solid 1px gray',
                minWidth: '20%'
            },
            props: {
                items: Array(30).fill(0).map(function (u, i) {
                    return { text: "item " + i, value: i };
                })
            }
        }).addTo(document.body);
    </script>
    <h1>Select Menu</h1>
    <script class="viewable">
        absol._({
            tag: 'selectmenu',
            style: {
                'text-align': 'right',
                display: 'inline-block',
                border: 'solid 1px gray',
                minWidth: '20%'
            },
            props: {
                items: Array(30).fill(0).map(function (u, i) {
                    return { text: "item " + i, value: i };
                })
            }
        }).addTo(document.body);

        absol._({
            tag: 'selectmenu',
            style: {
                display: 'inline-block',
                border: 'solid 1px gray',
                minWidth: '20%',
                marginLeft: '40px'
            },
            props: {
                enableSearch: true,
                items: Array(30).fill(0).map(function (u, i) {
                    return { text: "item  perspiciatis unde omnis iste natus error sit voluptatem perspiciatis unde omnis iste natus error sit voluptatem " + i, value: i };
                })
            }
        }).addTo(document.body);

    </script>

    <h1>Tree list</h1>
    <script class="viewable">
        var treelistProps = {
            items: [
                {
                    text: 'Tầng 1',
                    items: [
                        { text: 'Phòng khách' },
                        { text: 'Nhà ăn', alertMessage: "Nhà ăn", desc: "Phía sau cùng  nhà" },
                        { text: 'Phòng 1', desc: "Phía sau phòng khách" },
                        { text: 'Phòng 2', alertMessage: "Cạnh phòng 1" }
                    ]
                },
                {
                    text: 'Tầng 2',
                    items: [
                        {
                            text: 'Phòng 3',
                            decs: "Ngay cầu thang",
                            items: ['Bàn học', 'Tủ kính', 'Kệ sách']
                        },
                        {
                            text: 'Phòng 4',
                            desc: "Có ban công",
                            items: ['Tivi', 'Tủ lạnh', 'Quạt trần']
                        },
                        { text: 'Ban công' }
                    ]
                },
                { text: 'Tầng 5', desc: "Sân thượng" },
            ]
        }
    </script>


    <script class="viewable">

        // You must call realignDescription() to align description, it's not automatic because of performance
        absol._({
            tag: 'treelist',
            props: treelistProps,
            style: {
                display: 'inline-block',
                border: 'solid 1px gray'
            }
        }).addTo(document.body).on('press', function (event, sender) {
            var data = event.data;
            if (data.alertMessage) alert(data.alertMessage);
        }).realignDescription();



        absol._({
            tag: 'treelist',
            props: treelistProps,
            style: {
                display: 'inline-block',
                border: 'solid 1px gray',
                marginLeft: '40px'
            }
        }).addTo(document.body).on('press', function (event, sender) {
            console.log(event.target);
        }).realignDescription();
    </script>
    <h1 id="stm-demo">Select Tree Menu</h1>
    <script class="viewable">
        absol._({
            tag: 'selecttreemenu',
            props: Object.assign(treelistProps, { enableSearch: false, value: 'Tầng 2' }),
            style: {
                display: 'inline-block',
                border: 'solid 1px gray'
            }
        }).addTo(document.body).on('press', function (event, sender) {
            console.log(event.target, event.data, event.value);
            console.log(event.target);
        });
        absol._({
            tag: 'selecttreemenu',
            props: Object.assign(treelistProps, { enableSearch: true, value: 'Tầng 2' }),
            style: {
                display: 'inline-block',
                border: 'solid 1px gray',
                marginLeft: '40px'
            }
        }).addTo(document.body).on('change', function (event, sender) {
            console.log(event.target, event.data, event.value);
        });
    </script>
    <label style="display:inline-block;vertical-align: top; line-height: 30px">Select Tree Menu</label>
    <selector id="selectmenu-place-holder"></selector><span
        style="display:inline-block;vertical-align: top; line-height: 30px;margin-left: 12px" id="stm-value"> value =
    </span>

    <script class="viewable">
        var stmValueElt = absol.$('#stm-value');
        var mSelectTreeMenu = absol._({
            tag: 'selecttreemenu',
            props: {
                enableSearch: true,
                // value: 20,
                items: Array(30).fill(0).map(function (u, i) {
                    return {
                        text: 'Quận ' + (i + 1),
                        value: i * 50,
                        items: Array(49).fill(0).map(function (v, j) {
                            return {
                                text: 'Phường ' + (j + 1),
                                value: (i * 50 + j + 1)
                            }
                        })
                    }
                })
            },
            style: {
                display: 'inline-block',
                border: 'solid 1px gray',
            }
        }).on('change', function (event, sender) {
            console.log(event.target, event.data, event.value);
            stmValueElt.innerHTML = ' value = ' + event.value;
        });
        stmValueElt.innerHTML = ' value = ' + mSelectTreeMenu.value;
        absol.$('#selectmenu-place-holder').selfReplace(mSelectTreeMenu);


    </script>
    <script>
        var viewableScript = document.querySelectorAll('script.viewable');
        viewableScript.forEach(function (elt) {
            absol.$(elt).selfReplace(absol._({
                tag: 'pre',
                child: {
                    tag: 'code',
                    class: 'js',
                    child: { text: elt.innerHTML }
                }
            }));
        });
        setTimeout(function () {
            var href = location.href;
            var mathedscroll = href.match(/\#([a-z0-9\_A-Z\-]+)/);
            if (mathedscroll) {
                var e = absol.$(mathedscroll[0]);
                if (e) e.scrollIntoView();
            }
        }, 1000)
    </script>
</body>

</html>